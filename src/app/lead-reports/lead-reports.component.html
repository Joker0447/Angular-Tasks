<div class="lead-reports-container">
  <aside
    class="sidebar"
    style="background: #fff; padding: 18px 12px; min-width: 260px"
  >
    <div
      style="
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      "
    >
      FOLDERS
      <button
        style="
          background: #fff;
          border: 1px solid #ccc;
          border-radius: 4px;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 20px;
          cursor: pointer;
        "
      >
        +
      </button>
    </div>
    <input
      type="text"
      placeholder="Search for folders"
      style="
        width: 100%;
        padding: 7px 10px;
        margin-bottom: 16px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 15px;
      "
    />
    <ul style="list-style: none; padding: 0; margin: 0">
      <li
        *ngFor="let folder of folders; let i = index"
        [ngClass]="{ 'active-folder': folder.active }"
        style="
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 10px;
          padding: 4px 0;
          cursor: pointer;
          font-size: 16px;
          color: #444;
          border-radius: 4px;
        "
      >
        <span (click)="selectFolder(folder)" style="flex: 1">{{
          folder.name
        }}</span>
      </li>
    </ul>
    <div style="margin-top: 18px">
      <a href="#" style="color: #6c3fcf; font-size: 15px; text-decoration: none"
        >More..</a
      >
    </div>
    <style>
      .active-folder {
        background: #f5f5f5;
        font-weight: 500;
      }
    </style>
  </aside>

  <main class="main-content">
    <div class="main-header">
      <span class="reports-title">Reports &gt; List Lead Reports</span>
      <button class="add-report-btn" (click)="addReport()">+ Add Report</button>
    </div>
    <table class="reports-table">
      <thead>
        <tr>
          <th><input type="checkbox" /></th>
          <th>
            Report Type<br /><input type="text" [(ngModel)]="search.type" />
          </th>
          <th>
            Report Name<br /><input type="text" [(ngModel)]="search.name" />
          </th>
          <th>
            Primary Module<br /><input
              type="text"
              [(ngModel)]="search.module"
            />
          </th>
          <th>
            Folder Name<br /><input type="text" [(ngModel)]="search.folder" />
          </th>
          <th>Owner<br /><input type="text" [(ngModel)]="search.owner" /></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let report of filteredReports(); let i = index">
          <td><input type="checkbox" /></td>
          <td>{{ report.type }}</td>
          <td>{{ report.name }}</td>
          <td>{{ report.module }}</td>
          <td>{{ report.folder }}</td>
          <td>{{ report.owner }}</td>
          <td></td>
        </tr>
        <tr *ngIf="editIndex !== null">
          <td colspan="7">
            <div class="edit-table-container">
              <table class="edit-table">
                <thead>
                  <tr>
                    <th>Report Type</th>
                    <th>Report Name</th>
                    <th>Primary Module</th>
                    <th>Folder Name</th>
                    <th>Owner</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><input [(ngModel)]="editReport.type" /></td>
                    <td><input [(ngModel)]="editReport.name" /></td>
                    <td><input [(ngModel)]="editReport.module" /></td>
                    <td><input [(ngModel)]="editReport.folder" /></td>
                    <td><input [(ngModel)]="editReport.owner" /></td>
                  </tr>
                </tbody>
              </table>
              <div class="edit-table-actions">
                <button (click)="saveEdit(editIndex)" class="simple-save-btn">
                  Save
                </button>
                <button (click)="cancelEdit()" class="simple-cancel-btn">
                  Cancel
                </button>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div
      *ngIf="addingReport"
      class="add-report-modal"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      "
    >
      <div class="add-report-card">
        <h2 class="add-report-title">Add New Report</h2>
        <form class="add-report-form">
          <div class="add-report-field">
            <label>Report Type:</label>
            <input
              type="text"
              name="type"
              [(ngModel)]="newReport.type"
              placeholder="Type"
            />
          </div>
          <div class="add-report-field">
            <label>Report Name:</label>
            <input
              type="text"
              name="name"
              [(ngModel)]="newReport.name"
              placeholder="Name"
            />
          </div>
          <div class="add-report-field">
            <label>Primary Module:</label>
            <input
              type="text"
              name="module"
              [(ngModel)]="newReport.module"
              placeholder="Module"
            />
          </div>
          <div class="add-report-field">
            <label>Folder Name:</label>
            <input
              type="text"
              name="folder"
              [(ngModel)]="newReport.folder"
              placeholder="Folder"
            />
          </div>
          <div class="add-report-field">
            <label>Owner:</label>
            <input
              type="text"
              name="owner"
              [(ngModel)]="newReport.owner"
              placeholder="Owner"
            />
          </div>
          <div class="add-report-actions">
            <button type="button" (click)="confirmAddReport()" class="add-btn">
              Add
            </button>
            <button
              type="button"
              (click)="cancelAddReport()"
              class="cancel-btn"
            >
              Cancel
            </button>
          </div>
        </form>
        <style>
          .add-report-card {
            background: #fff;
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.22);
            border-radius: 18px;
            padding: 48px 36px;
            min-width: 400px;
            max-width: 96vw;
            display: flex;
            flex-direction: column;
            align-items: center;
          }
          .add-report-title {
            margin-bottom: 28px;
            text-align: center;
            font-weight: 700;
            color: #222;
            letter-spacing: 0.5px;
            font-size: 1.5rem;
          }
          .add-report-form {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 18px;
          }
          .add-report-field {
            display: flex;
            flex-direction: column;
            gap: 6px;
          }
          .add-report-field label {
            font-weight: 600;
            color: #444;
            font-size: 1.08rem;
            margin-bottom: 2px;
          }
          .add-report-field input {
            width: 100%;
            padding: 12px 14px;
            border: 1.5px solid #d0d0d0;
            border-radius: 8px;
            font-size: 1.08rem;
            transition: border 0.2s;
            outline: none;
          }
          .add-report-field input:focus {
            border-color: #1976d2;
          }
          .add-report-actions {
            display: flex;
            justify-content: center;
            gap: 18px;
            margin-top: 18px;
          }
          .add-btn {
            padding: 12px 32px;
            background: #1976d2;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 1.08rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.1);
            cursor: pointer;
            transition: background 0.2s;
          }
          .add-btn:hover {
            background: #1565c0;
          }
          .cancel-btn {
            padding: 12px 32px;
            background: #f5f5f5;
            color: #333;
            border: none;
            border-radius: 8px;
            font-size: 1.08rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
          }
          .cancel-btn:hover {
            background: #e0e0e0;
          }
        </style>
      </div>
    </div>
  </main>
</div>
